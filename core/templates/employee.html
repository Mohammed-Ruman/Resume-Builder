{% extends 'base.html' %}

{% block content %}


    <div class="container mt-4 card shadow-lg" style="max-width: 70%;">
        {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    <form  method="post">
        {% csrf_token %}
        <h3 class="text-center mt-3">Employee Details</h3>
        <div class="mb-3">
            <label  class="form-label">Name </label>
            <input type="text" class="form-control" name="name">  
        </div>

        <div class="mb-3">
            <label  class="form-label">Designation </label>
            <input type="text" class="form-control" name="designation">  
        </div>

        <div class="mb-3">
            <label  class="form-label">Summary </label>
            <textarea type="text" class="form-control" name="summary">  </textarea>
        </div>

        <hr>

        <h4 class="text-center mt-3">Skills</h4>
        <div class="mb-3">
            <label  class="form-label">Programming and Scripting </label>
            <input type="text" class="form-control" name="programming">  
        </div>
        <div class="mb-3">
            <label  class="form-label">Frameworks </label>
            <input type="text" class="form-control" name="framework">  
        </div>
        <div class="mb-3">
            <label  class="form-label">Development Tools </label>
            <input type="text" class="form-control" name="dev_tools">  
        </div>
        <div class="mb-3">
            <label  class="form-label">Web API Tools </label>
            <input type="text" class="form-control" name="web_tools">  
        </div>
        <div class="mb-3">
            <label  class="form-label">Operating System </label>
            <input type="text" class="form-control" name="op_sys">  
        </div>
        <div class="mb-3">
            <label  class="form-label">Version tool </label>
            <input type="text" class="form-control" name="ver_tools">  
        </div>

        <hr>    
        <h4 class="text-center mt-3">Projects</h4>
            <div id="projects-container">
                <div class="project-form">
                    <h5 class="text-center mt-3">Project 1</h5>
                    <div class="mb-3">
                        <label class="form-label">Project Name </label>
                        <input type="text" class="form-control" name="project_name[]">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Project Description </label>
                        <input type="text" class="form-control" name="project_description[]">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Roles and Responsibility </label>
                        <input type="text" class="form-control" name="role_res[]" value="Use this to add points '●' example ● Role 1 ● Role 2">
                        <!-- <textarea class="form-control" name="role_res[]" placeholder="Enter your roles and responsibilities here...">Use this to add points ● example ● Role 1 ● Role 2 </textarea> -->

                    </div>

                    <div class="mb-3">
                        <label class="form-label">Technology </label>
                        <input type="text" class="form-control" name="tech_used[]">
                    </div>
                </div>
            </div>

            <div class="d-flex justify-content-center">
                <button type="button" class="btn btn-primary mb-3" onclick="addProject()">Add Project</button>
            </div>

            <div class="d-flex justify-content-center">
                <button type="submit" class="btn btn-primary mb-3">Submit</button>
            </div>
        </form>
    </div>

    <script>
        let projectCount = 1;

        function addProject() {
            projectCount++;
            const projectsContainer = document.getElementById('projects-container');
            const projectForm = document.querySelector('.project-form').cloneNode(true);
            projectForm.querySelector('h5').innerText = `Project ${projectCount}`;
            projectsContainer.appendChild(projectForm);
        }
    </script>

{% endblock %}